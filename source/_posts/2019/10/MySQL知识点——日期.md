---
title: MySQL知识点——日期函数
date: 2019-10-18 15:23:52
tags: MySQL函数	
category: MySQL
index_img: banner/p17.webp
banner_img: banner/p17.webp
---

DATE_FORMAT(date,format)， 用来转换日期格式。*date* 参数是合法的日期。*format* 规定日期/时间的输出格式。

<!--more-->

| 格式 | 描述                                           |
| :--- | :--------------------------------------------- |
| %a   | 缩写星期名                                     |
| %b   | 缩写月名                                       |
| %c   | 月，数值                                       |
| %D   | 带有英文前缀的月中的天                         |
| %d   | 月的天，数值(00-31)                            |
| %e   | 月的天，数值(0-31)                             |
| %f   | 微秒                                           |
| %H   | 小时 (00-23)                                   |
| %h   | 小时 (01-12)                                   |
| %I   | 小时 (01-12)                                   |
| %i   | 分钟，数值(00-59)                              |
| %j   | 年的天 (001-366)                               |
| %k   | 小时 (0-23)                                    |
| %l   | 小时 (1-12)                                    |
| %M   | 月名                                           |
| %m   | 月，数值(00-12)                                |
| %p   | AM 或 PM                                       |
| %r   | 时间，12-小时（hh:mm:ss AM 或 PM）             |
| %S   | 秒(00-59)                                      |
| %s   | 秒(00-59)                                      |
| %T   | 时间, 24-小时 (hh:mm:ss)                       |
| %U   | 周 (00-53) 星期日是一周的第一天                |
| %u   | 周 (00-53) 星期一是一周的第一天                |
| %V   | 周 (01-53) 星期日是一周的第一天，与 %X 使用    |
| %v   | 周 (01-53) 星期一是一周的第一天，与 %x 使用    |
| %W   | 星期名                                         |
| %w   | 周的天 （0=星期日, 6=星期六）                  |
| %X   | 年，其中的星期日是周的第一天，4 位，与 %V 使用 |
| %x   | 年，其中的星期一是周的第一天，4 位，与 %v 使用 |
| %Y   | 年，4 位                                       |
| %y   | 年，2 位                                       |

例：

```sql
SELECT DATE_FORMAT(NOW(),'%Y-%m-%d %H:%i:%s')
#Output:  2019-10-18 15:36:06
```



DATE_ADD(date,INTERVAL expr unit)，用来对日期进行计算，date参数是被计算的时间，expr是一个数值，可以是正的或负的，正的向后计算，负的向前计算，unit是单位。例：

``` sql
SELECT DATE_ADD(NOW(),INTERVAL -8 HOUR), DATE_ADD(NOW(),INTERVAL 1 DAY)
#Output： 2019-10-18 07:39:21	2019-10-19 15:39:21
```



NOW() 可以获取当前时间，注意有些数据库获取的时间可能实际时间不同，那是因为它所设置的时区不是我们所在的时区。要更改时区的话可以这样做：

```sql
set global time_zone = '+8:00';    #设置时区更改为东八区
flush privileges;   #刷新权限
```

然后重启数据库就可以了。